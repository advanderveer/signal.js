!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=a("./src/signal.js");b.exports=c},{"./src/signal.js":2}],2:[function(a,b){var c=function(a){var b=this,c="/,;.:-_~+*=@|";b.collection=a,b.match=function(a){var c=b.collection.all(),d=!1,e={};if(Object.keys(c).forEach(function(f){if(d!==!0){var g=c[f],h=b.compile(g);if(""===h.staticPrefix||0===a.indexOf(h.staticPrefix)){var i=a.match(h.regexp);null!==i&&(Object.keys(h.variables).forEach(function(a){var b=i[h.variables[a]];b&&(e[a]=b)}),void 0!==g.defaults&&Object.keys(g.defaults).forEach(function(a){a in e||(e[a]=g.defaults[a])}),e._route=f,d=!0)}}}),d===!1)throw new Error('No route was found that matches the url "'+a+'"');return e},b.generate=function(a,c){if(c=void 0!==c?c:{},b.collection.has(a)===!1)throw new Error('Route with name "'+a+'" does not exist.');var d=b.collection.get(a);void 0!==d.defaults&&Object.keys(d.defaults).forEach(function(a){a in c||(c[a]=d.defaults[a])});var e=b.compile(d);Object.keys(e.variables).forEach(function(b){if(void 0===c[b])throw new Error('Some mandatory parameters are missing ("'+b+'") to generate a URL for route "'+a+'"')});var f="",g=!0,h=void 0===d.defaults?{}:d.defaults,i=e.tokens.reverse();return i.forEach(function(b){if("variable"===b[0]){if(!g||!(b[3]in h)||void 0!==c[b[3]]&&c[b[3]]!==h[b[3]]){if(!new RegExp("^"+b[2]+"$").test(c[b[3]]))throw new Error('Parameter "'+b[3]+'" for route "'+a+'" must match "'+b[2]+'" ("'+c[b[3]]+'" given) to generate a corresponding URL.');f=b[1]+c[b[3]]+f,g=!1}}else f=b[1]+f,g=!1}),f},b.compile=function(a){var b=[],d={},e=a.path,f="/",g=0,h=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},i=function(b){if(void 0===a.defaults)return!1;var c=a.defaults[b];return void 0===c?!1:!0},j=e.match(/\{\w+\}/g);null!==j&&j.forEach(function(i,j){var k=i.substring(1,i.length-1),l=e.substring(g,e.indexOf(i));g=e.indexOf(i)+i.length;var m=l.length>0?l.substring(l.length-1,l.length):"",n=c.indexOf(m)>-1?!0:!1;n&&l.length>1?b.push(["text",l.substring(0,l.length-1)]):!n&&l.length>0&&b.push(["text",l]);var o="requirements"in a?a.requirements[k]:void 0;if(void 0===o){var p=e.substring(g),q=p.replace(/\{\w+\}/g,"");q=c.indexOf(q[0])>-1?q[0]:"",q=f!==q&&""!==q?h(q):"",o="[^"+h(f)+q+"]+"}b.push(["variable",n?m:"",o,k]),d[k]=j+1}),g<e.length&&b.push(["text",e.substring(g)]);for(var k=9007199254740992,l=0;l<b.length;l++)if("variable"===b[l][0]&&i(b[l][3])){k=l;break}var m=0,n=function(a,b,c){var e=a[b];if("text"===e[0])return h(e[1]);if(0===b&&0===c)return h(e[1])+"("+e[2]+")?";var f=h(e[1])+"("+e[2]+")";if(b>=c){f="("+f,d[e[3]]=d[e[3]]+1,m++;var g=a.length;b===g-1&&(f+=Array(m+1).join(")?"))}return f},o="";return b.forEach(function(a,c){o+=n(b,c,k)}),{staticPrefix:"text"===b[0][0]?b[0][1]:"",regexp:new RegExp("^"+o+"$"),tokens:b,variables:d}}};b.exports=c},{}]},{},[1]);